{"1763053676321":{"actionType":"saveAll","createdAt":"1763053676321","actionID":"1763053676321","userID":"#TEMP","path":"system.capsules.9f52a195-fa67-46f1-9faa-972749b0c48a.capsUseCodeInfo.capsUseInputs.sss_custom_caps-0.capsIptTxtValue","oldValue":"(args) => {\n  console.log(\"Dados do Lote\", { args });\n\n  const objLote = args[0];\n\n  // âœ… Garante que Ã© um objeto vÃ¡lido\n  if (typeof objLote !== \"object\" || objLote === null) {\n    console.log(\"âŒ lote invÃ¡lido:\", objLote);\n    return;\n  }\n\n  // âœ… Extrai todos os valores do objeto\n  const installments = objLote?.installments ?? {};\n  const newArray: any[] = Object.values(installments) ?? [];\n\n  // âœ… Extrai e guarda numberOfInstallments, owner e totalValue (se existirem)\n  const numberOfInstallments = objLote.numberOfInstallments || null;\n  const owner = objLote.owner || null;\n  const totalValue = objLote.totalValue || null;\n\n  // âœ… Exibe log detalhado\n  console.log(\"ðŸ“¦ numberOfInstallments:\", numberOfInstallments);\n  console.log(\"owner:\", owner);\n  console.log(\"ðŸ’° totalValue:\", totalValue);\n  console.log(\"Dados:\", newArray);\n\n  const condArray = newArray && newArray.length > 0;\n  const finalArray = condArray\n    ? newArray.map((item, index) => {\n        return {\n          ...item,\n          formatedInstallments: index + '/' + numberOfInstallments\n        };\n      })\n    : [];\n\n  // âœ… Define os dados para uso na tela\n  tools.setData({ path: \"sc.C7.lists.list1\", value: finalArray });\n\n  // âœ… Armazena Todos os dados do lote\n  tools.setData({ path: \"sc.C7.currents.currLoteData\", value: objLote });\n}","newValue":"(args) => {\n  console.log(\"Dados do Lote\", { args });\n\n  const objLote = args[0];\n\n  // âœ… Garante que Ã© um objeto vÃ¡lido\n  if (typeof objLote !== \"object\" || objLote === null) {\n    console.log(\"âŒ lote invÃ¡lido:\", objLote);\n    return;\n  }\n\n  // âœ… Extrai todos os valores do objeto\n  const installments = objLote?.installments ?? {};\n  const newArray: any[] = Object.values(installments) ?? [];\n\n  // âœ… Extrai e guarda numberOfInstallments, owner e totalValue (se existirem)\n  const numberOfInstallments = objLote.numberOfInstallments || null;\n  const owner = objLote.owner || null;\n  const totalValue = objLote.totalValue || null;\n\n  // âœ… Exibe log detalhado\n  console.log(\"ðŸ“¦ numberOfInstallments:\", numberOfInstallments);\n  console.log(\"owner:\", owner);\n  console.log(\"ðŸ’° totalValue:\", totalValue);\n  console.log(\"Dados:\", newArray);\n\n  const condArray = newArray && newArray.length > 0;\n  const finalArray = condArray\n    ? newArray.map((item, index) => {\n        return {\n          ...item,\n          formatedInstallments: index + \"/\" + numberOfInstallments,\n        };\n      })\n    : [];\n\n  console.log(\"Array Final:\", finalArray);\n\n  // âœ… Define os dados para uso na tela\n  tools.setData({ path: \"sc.C7.lists.list1\", value: finalArray });\n\n  // âœ… Armazena Todos os dados do lote\n  tools.setData({ path: \"sc.C7.currents.currLoteData\", value: objLote });\n}"}}