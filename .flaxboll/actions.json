{"1763480340230":{"actionType":"saveAll","createdAt":"1763480340230","actionID":"1763480340230","userID":"#TEMP","path":"system.capsules.8abe2226-b89c-4398-b08f-50f59f28b837.capsUseCodeInfo.capsUseInputs.sss_custom_caps-0.capsIptTxtValue","oldValue":"(txt: string) => {\n  try {\n    if (typeof txt !== \"string\") txt = String(txt ?? \"\");\n\n    // Mantém apenas números\n    let clean = txt.replace(/\\D/g, \"\");\n\n    // Limita a 8 dígitos (ddmmyyyy)\n    if (clean.length > 8) clean = clean.slice(0, 8);\n    console.log({ clean });\n\n    // 1) insere \"/\" depois do dia -> dd/... \n    let masked = clean.replace(/^(\\d{2})(\\d)/, \"$1/$2\");\n\n    // 2) insere \"/\" depois do mês -> dd/mm/... \n    masked = masked.replace(/^(\\d{2}\\/\\d{2})(\\d)/, \"$1/$2\");\n\n    // 3) garante tamanho máximo \"dd/mm/aaaa\"\n    if (masked.length > 10) masked = masked.slice(0, 10);\n\n    return masked;\n  } catch (e) {\n    console.error(\"Erro na máscara de data:\", e);\n    return txt;\n  }\n}","newValue":"(txt) => {\n  try {\n    if (typeof txt !== \"string\") txt = String(txt ?? \"\");\n\n    // Mantém apenas números\n    let clean = txt.replace(/\\D/g, \"\");\n\n    // Limita a 8 dígitos (ddmmyyyy)\n    if (clean.length > 8) clean = clean.slice(0, 8);\n    console.log({ clean });\n\n    // 1) insere \"/\" depois do dia -> dd/... \n    let masked = clean.replace(/^(\\d{2})(\\d)/, \"$1/$2\");\n\n    // 2) insere \"/\" depois do mês -> dd/mm/... \n    masked = masked.replace(/^(\\d{2}\\/\\d{2})(\\d)/, \"$1/$2\");\n\n    // 3) garante tamanho máximo \"dd/mm/aaaa\"\n    if (masked.length > 10) masked = masked.slice(0, 10);\n\n    return masked;\n  } catch (e) {\n    console.error(\"Erro na máscara de data:\", e);\n    return txt;\n  }\n}"}}