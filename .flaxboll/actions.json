{"1761749668448":{"actionType":"saveAll","createdAt":"1761749668448","actionID":"1761749668448","userID":"#TEMP","path":"system.capsules.8abe2226-b89c-4398-b08f-50f59f28b837.capsUseCodeInfo.capsUseInputs.sss_custom_caps-0.capsIptTxtValue","oldValue":"","newValue":"(txt) => {\n  // Garante string\n  if (typeof txt !== \"string\") txt = String(txt ?? \"\");\n\n  // Extrai apenas nÃºmeros\n  let digits = (txt.match(/\\d/g) || []).join(\"\").slice(0, 8);\n\n  // Formata como DD/MM/AAAA\n  let formatted = digits;\n  if (digits.length > 4) {\n    formatted = digits.replace(/^(\\d{2})(\\d{2})(\\d{0,4})/, \"$1/$2/$3\");\n  } else if (digits.length > 2) {\n    formatted = digits.replace(/^(\\d{2})(\\d{0,2})/, \"$1/$2\");\n  }\n\n  console.log(\"Digitado:\", txt);\n  console.log(\"Formatado:\", formatted);\n\n  // Atualiza a variÃ¡vel no contexto (opcional)\n  tools.setData({\n    path: \"sc.a1.iptChanges.startDate\",\n    value: formatted,\n  });\n\n  // ðŸ”¹ Retorne o valor formatado para que o Flaxboll o exiba no input\n  return formatted;\n}\n"}}