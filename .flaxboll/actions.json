{"1760979932210":{"actionType":"saveAll","createdAt":"1760979932210","actionID":"1760979932210","userID":"#TEMP","path":"system.capsules.830af753-f3c2-4ba3-aedb-6e10b6d47170.capsUseCodeInfo.capsUseInputs.sss_custom_caps-0.capsIptTxtValue","oldValue":"async () => {\n  console.log({ oi: \"login\", tools });\n  try {\n    const rawName = tools.getCtData('sc.A12.iptsChanges.partnerName');\n    console.log({ rawName });\n    const name = (rawName ?? '').trim();\n    console.log({ name });\n    const rawEmail = tools.getCtData('sc.A12.iptsChanges.partnerMail');\n    console.log({ rawEmail });\n    const email = (rawEmail ?? '').trim();\n\n    console.log({ email });\n    const validateEmail = (email: string) => {\n      const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n      return re.test(String(email).toLowerCase());\n    }\n\n    if (!name) {\n      // window.alert(\"Nome inválido\", \"Por favor, insira seu nome completo.\");\n      return;\n    }\n\n    if (!email || !validateEmail(email)) {\n      console.log({ email });\n      // window.alert(\"E-mail inválido\", \"Por favor, insira um e-mail válido.\");\n      return;\n    }\n\n    // Auth\n    const { createUserWithEmailAndPassword } = await import('firebase/auth');\n    console.log({ createUserWithEmailAndPassword });\n\n    await createUserWithEmailAndPassword(email, '123456', name);\n    // window.alert(\n    //   \"Conta criada\",\n    //   \"Enviamos um e-mail de verificação. Confirme para usar todos os recursos.\"\n    // );\n  } catch (e: any) {\n    window.alert(\"Erro no cadastro\", e.message);\n  }\n}","newValue":"async () => {\n  console.log({ oi: \"login\", tools });\n  try {\n    const rawName = tools.getCtData('sc.A12.iptsChanges.partnerName');\n    console.log({ rawName });\n    const name = (rawName ?? '').trim();\n    console.log({ name });\n    const rawEmail = tools.getCtData('sc.A12.iptsChanges.partnerMail');\n    console.log({ rawEmail });\n    const email = (rawEmail ?? '').trim();\n\n    console.log({ email });\n    const validateEmail = (email: string) => {\n      const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n      return re.test(String(email).toLowerCase());\n    }\n\n    if (name === '') {\n      // window.alert(\"Nome inválido. Por favor, insira seu nome completo.\");\n      console.log({ name });\n      return;\n    }\n\n    if (email === '' || !validateEmail(email)) {\n      // window.alert(\"E-mail inválido\", \"Por favor, insira um e-mail válido.\");\n      console.log({ email });\n      return;\n    }\n\n    // Auth\n    const { createUserWithEmailAndPassword } = await import('firebase/auth');\n    console.log({ createUserWithEmailAndPassword });\n\n    await createUserWithEmailAndPassword(email, '123456', name);\n    // window.alert(\n    //   \"Conta criada. Enviamos um e-mail de verificação. Confirme para usar todos os recursos.\"\n    // );\n  } catch (e: any) {\n    // window.alert(\"Erro no cadastro\", e.message);\n  }\n}"}}