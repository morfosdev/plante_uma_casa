{"1761753282484":{"actionType":"saveAll","createdAt":"1761753282484","actionID":"1761753282484","userID":"#TEMP","path":"system.capsules.8abe2226-b89c-4398-b08f-50f59f28b837.capsUseCodeInfo.capsUseInputs.sss_custom_caps-0.capsIptTxtValue","oldValue":"(txt) => {\n  // Garantir que txt seja string\n  txt = txt ? String(txt) : \"\";\n\n  // Extrai apenas números\n  let digits = txt.replace(/\\D/g, \"\").slice(0, 8);\n\n  // Formata como DD/MM/AAAA\n  let formatted = \"\";\n  if (digits.length > 4) {\n    formatted = digits.replace(/^(\\d{2})(\\d{2})(\\d{0,4})$/, \"$1/$2/$3\");\n  } else if (digits.length > 2) {\n    formatted = digits.replace(/^(\\d{2})(\\d{0,2})$/, \"$1/$2\");\n  } else {\n    formatted = digits;\n  }\n\n  console.log(\"Digitado:\", txt);\n  console.log(\"Formatado:\", formatted);\n\n  // Atualiza a variável no Flaxboll\n  tools.setData({\n    path: \"sc.a1.iptChanges.startDate\",\n    value: formatted,\n  });\n\n  // Retorna o valor formatado para que o input mostre\n  return formatted;\n}\n","newValue":"(txt) => {\n  // Garante que txt seja string\n  txt = txt ? String(txt) : \"\";\n\n  // Remove tudo que não for número\n  let digits = txt.replace(/\\D/g, \"\").slice(0, 8); // só 8 dígitos\n\n  // Formata automaticamente DD/MM/AAAA\n  let formatted = \"\";\n  if (digits.length <= 2) {\n    formatted = digits; // só dia\n  } else if (digits.length <= 4) {\n    formatted = digits.replace(/^(\\d{2})(\\d{1,2})$/, \"$1/$2\"); // dia/mes\n  } else {\n    formatted = digits.replace(/^(\\d{2})(\\d{2})(\\d{1,4})$/, \"$1/$2/$3\"); // dia/mes/ano\n  }\n\n  // Atualiza o valor no Flaxboll\n  tools.setData({\n    path: \"sc.a1.iptChanges.startDate\",\n    value: formatted,\n  });\n\n  // Retorna o valor formatado para renderizar no input\n  return formatted;\n}\n"}}