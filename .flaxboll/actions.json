{"1764602528367":{"actionType":"saveAll","createdAt":"1764602528367","actionID":"1764602528367","userID":"#TEMP","path":"system.capsules.adef5b2e-4c69-4e4a-b13e-d8c7799100ee.capsUseCodeInfo.capsUseInputs.sss_custom_caps-0.capsIptTxtValue","oldValue":"(arg) => {\n  console.log(\"A4 GET CONDOS\", arg);\n\n  // Se arg não for array, sai fora\n  if (!Array.isArray(arg)) {\n    console.warn(\"A4 GET CONDOS: arg não é array\", arg);\n    return;\n  }\n\n  const value = arg.map((i) => {\n    if (!i || typeof i !== \"object\") {\n      // item inválido, devolve algo mínimo\n      return { image: \"\" };\n    }\n\n    let image = \"\";\n\n    // garante que images seja um array e tenha pelo menos 1 item\n    if (Array.isArray(i.images) && i.images.length > 0) {\n      const first = i.images[0];\n\n      if (first && typeof first === \"object\") {\n        // tenta pegar o receiptUrl com fallback\n        image = first.receiptUrl ?? \"\";\n      }\n    }\n\n    return {\n      ...i,\n      // se já existir i.image e você NÃO quiser sobrescrever, use:\n      // image: i.image ?? image,\n      image,\n    };\n  });\n\n  tools.setData({\n    path: \"sc.a7.list\", // confira se aqui é \"a7\" mesmo e não \"A7\"\n    value,\n  });\n}\n","newValue":"(arg) => {\n  console.log(\"A4 GET CONDOS\", arg);\n\n  // Se arg não for array, sai fora\n  if (!Array.isArray(arg)) {\n    console.warn(\"A4 GET CONDOS: arg não é array\", arg);\n    return;\n  }\n\n  const value = arg.map((i) => {\n    if (!i || typeof i !== \"object\") {\n      // item inválido, devolve algo mínimo\n      return { image: \"\" };\n    }\n\n    let image = \"\";\n\n    // garante que images seja um array e tenha pelo menos 1 item\n    if (Array.isArray(i.images) && i.images.length > 0) {\n      const first = i.images[0];\n\n      if (first && typeof first === \"object\") {\n        // tenta pegar o receiptUrl com fallback\n        image = first.receiptUrl ?? \"\";\n      }\n    }\n\n    return {\n      ...i,\n      // se já existir i.image e você NÃO quiser sobrescrever, use:\n      // image: i.image ?? image,\n      image,\n    };\n  });\n\n  tools.setData({\n    path: \"sc.a7.list\", // confira se aqui é \"a7\" mesmo e não \"A7\"\n    value,\n  });\n}"}}