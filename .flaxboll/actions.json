{"1763490682951":{"actionType":"saveAll","createdAt":"1763490682951","actionID":"1763490682951","userID":"#TEMP","path":"system.capsules.6659ed3a-5f02-4f95-9ff0-a4eff2b04dc2.capsUseCodeInfo.capsUseInputs.sss_custom_caps_el-0.capsIptTxtValue","oldValue":"() => {\n  console.log(\"Botão Recibo\", args);\n  const item = tools.findFlatItem(args);\n  console.log(\"Botão Recibo 2\", item);\n  const installmentId = item.installmentId;\n  console.log(\"Botão Recibo 3\", installmentId);\n  const receipts = tools.getCtData(\"sc.A9.currents.currLoteData.receipts\");\n  console.log(\"Botão Recibo 4\", receipts);\n  const currReceipt = receipts[installmentId];\n  console.log(\"Botão Recibo 5\", currReceipt);\n  const receiptUrl = currReceipt ? currReceipt.receiptUrl : null;\n  console.log(\"Botão Recibo 6\", receiptUrl);\n\n  let condStyle = { color: \"#CCCCCC\", fontSize: 14, fontWeight: \"bold\" };\n  if (receiptUrl) {\n    condStyle = { color: \"#315e2d\", fontSize: 14, fontWeight: \"bold\" };\n  }\n\n  return <RN.Text style={condStyle}>↪</RN.Text>;\n}","newValue":"() => {\n  console.log(\"Botão Recibo\", args);\n\n  const item = tools.findFlatItem(args);\n  console.log(\"Botão Recibo 2\", item);\n\n  const installmentId = item.installmentId;\n  console.log(\"Botão Recibo 3\", installmentId);\n\n  const receipts = tools.getCtData(\"sc.A9.currents.currLoteData.receipts\");\n  console.log(\"Botão Recibo 4\", receipts);\n\n  const currReceipt = receipts[installmentId];\n  console.log(\"Botão Recibo 5\", currReceipt);\n\n  const receiptUrl = currReceipt ? currReceipt.receiptUrl : null;\n  console.log(\"Botão Recibo 6\", receiptUrl);\n\n  // ===== estilo condicionado =====\n  const condStyle = {\n    color: receiptUrl ? \"#315e2d\" : \"#CCCCCC\",\n    fontSize: 14,\n    fontWeight: \"bold\",\n  };\n\n  // ===== função de download (web) =====\n  const baixarRecibo = (url) => {\n    if (!url) return;\n    window.open(url, \"_blank\");\n  };\n\n  // ===== retorno =====\n  return (\n    <RN.Pressable\n      onPress={() => {\n        console.log(\"Clicou no botão de recibo\");\n        if (receiptUrl) baixarRecibo(receiptUrl);\n      }}\n    >\n      <RN.Text style={condStyle}>↪</RN.Text>\n    </RN.Pressable>\n  );\n}"}}