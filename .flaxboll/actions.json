{"1760981702793":{"actionType":"saveAll","createdAt":"1760981702793","actionID":"1760981702793","userID":"#TEMP","path":"system.capsules.830af753-f3c2-4ba3-aedb-6e10b6d47170.capsUseCodeInfo.capsUseInputs.sss_custom_caps-0.capsIptTxtValue","oldValue":"async () => {\n  console.log({ oi: \"login\", tools });\n  try {\n    const pathName = 'sc.A12.iptsChanges.partnerName';\n    const rawName = tools.getCtData(pathName);\n    console.log({ pathName, rawName });\n    const name = (rawName ?? '').trim();\n    console.log({ name });\n    const pathEmail = 'sc.A12.iptsChanges.partnerMail';\n    const rawEmail = tools.getCtData(pathEmail);\n    console.log({ pathEmail, rawEmail });\n    const email = (rawEmail ?? '').trim();\n    console.log({ email });\n\n    const validateEmail = (email: string) => {\n      console.log(email);\n      const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n      const validate = re.test(String(email).toLowerCase());\n      console.log({ validate });\n      return validate;\n    }\n\n    if (name === '') {\n      // window.alert(\"Nome inválido. Por favor, insira seu nome completo.\");\n      console.log({ name });\n      return;\n    }\n\n    if (email === '' || !validateEmail(email)) {\n      // window.alert(\"E-mail inválido\", \"Por favor, insira um e-mail válido.\");\n      console.log({ email });\n      return;\n    }\n\n    // Auth\n    const { createUserWithEmailAndPassword } = await import('firebase/auth');\n    console.log({ createUserWithEmailAndPassword });\n\n    await createUserWithEmailAndPassword(email, '123456', name);\n    // window.alert(\n    //   \"Conta criada. Enviamos um e-mail de verificação. Confirme para usar todos os recursos.\"\n    // );\n  } catch (e: any) {\n    // window.alert(\"Erro no cadastro\", e.message);\n  }\n}","newValue":"async () => {\n  console.log({ oi: \"login\", tools });\n  try {\n    const pathName = 'sc.A12.iptsChanges.partnerName';\n    const rawName = tools.getCtData(pathName);\n    console.log({ pathName, rawName });\n    const name = (rawName ?? '').trim();\n    console.log({ name });\n    const pathEmail = 'sc.A12.iptsChanges.partnerMail';\n    const rawEmail = tools.getCtData(pathEmail);\n    console.log({ pathEmail, rawEmail });\n    const email = (rawEmail ?? '').trim();\n    console.log({ email });\n\n    const validateEmail = (email: string) => {\n      console.log(email);\n      const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n      const validate = re.test(String(email).toLowerCase());\n      console.log({ validate });\n      return validate;\n    }\n\n    if (name === '') {\n      // window.alert(\"Nome inválido. Por favor, insira seu nome completo.\");\n      console.log({ name });\n      return;\n    }\n\n    if (email === '' || validateEmail(email)) {\n      // window.alert(\"E-mail inválido\", \"Por favor, insira um e-mail válido.\");\n      console.log({ email });\n      return;\n    }\n\n    // Auth\n    const { createUserWithEmailAndPassword } = await import('firebase/auth');\n    console.log({ createUserWithEmailAndPassword });\n\n    await createUserWithEmailAndPassword(email, '123456', name);\n    // window.alert(\n    //   \"Conta criada. Enviamos um e-mail de verificação. Confirme para usar todos os recursos.\"\n    // );\n  } catch (e: any) {\n    // window.alert(\"Erro no cadastro\", e.message);\n  }\n}"}}